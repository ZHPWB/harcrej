openapi: 3.0.0
info:
  title: HARCREJ
  description: API for managing the Polish Scouts organization.
  version: 1.0.0
servers:
  - url: http://localhost:8080
    description: Generated server url

paths:
  /api/v1/choragiew:
    post:
      tags:
        - choragiew
      summary: Create a new Chorągiew
      operationId: postChoragiew
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Choragiew'
      responses:
        '201':
          description: Chorągiew created successfully
    get:
      tags:
        - choragiew
      summary: Get a list of all Chorągwi
      operationId: getListOfChoragwi
      responses:
        '200':
          description: A list of Chorągwi
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Choragiew'

  /api/v1/choragiew/{choragiewId}:
    get:
      tags:
        - choragiew
      summary: Get details of a specific Chorągiew
      operationId: getChoragiewById
      parameters:
        - in: path
          name: choragiewId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Chorągiew details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Choragiew'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - choragiew
      summary: Delete a specific Chorągiew
      operationId: deleteChoragiew
      parameters:
        - in: path
          name: choragiewId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Chorągiew deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Choragiew
      operationId: updateChoragiew
      tags:
        - choragiew
      parameters:
        - in: path
          name: choragiewId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Choragiew
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Choragiew"
      responses:
        "200":
          description: Choragiew updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/hufiec:
    post:
      tags:
        - hufiec
      summary: Create a new Hufiec
      operationId: postHufiec
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Hufiec'
      responses:
        '201':
          description: Hufiec created successfully
    get:
      tags:
        - hufiec
      summary: Get a list of all Hufce
      operationId: getListOfHufce
      responses:
        '200':
          description: A list of Hufce
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Hufiec'

  /api/v1/hufiec/{hufiecId}:
    get:
      tags:
        - hufiec
      summary: Get details of a specific Hufiec
      operationId: getHufiecById
      parameters:
        - in: path
          name: hufiecId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Hufiec details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Hufiec'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - hufiec
      summary: Delete a specific Hufiec
      operationId: deleteHufiec
      parameters:
        - in: path
          name: hufiecId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Hufiec deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Hufiec
      operationId: updateHufiec
      tags:
        - hufiec
      parameters:
        - in: path
          name: hufiecId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Hufiec
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Hufiec"
      responses:
        "200":
          description: Hufiec updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/szczep:
    post:
      tags:
        - szczep
      summary: Create a new Szczep
      operationId: postSzczep
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Szczep'
      responses:
        '201':
          description: Szczep created successfully
    get:
      tags:
        - szczep
      summary: Get a list of all Szczep
      operationId: getListOfSzczep
      responses:
        '200':
          description: A list of Szczep
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Szczep'

  /api/v1/szczep/{szczepId}:
    get:
      tags:
        - szczep
      summary: Get details of a specific Szczep
      operationId: getSzczepById
      parameters:
        - in: path
          name: szczepId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Szczep details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Szczep'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - szczep
      summary: Delete a specific Szczep
      operationId: deleteSzczep
      parameters:
        - in: path
          name: szczepId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Szczep deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Szczep
      operationId: updateSzczep
      tags:
        - szczep
      parameters:
        - in: path
          name: szczepId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Szczep
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Szczep"
      responses:
        "200":
          description: Szczep updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/druzyna:
    post:
      tags:
        - druzyna
      summary: Create a new Druzyna
      operationId: postDruzyna
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Druzyna'
      responses:
        '201':
          description: Druzyna created successfully
    get:
      tags:
        - druzyna
      summary: Get a list of all Druzyna
      operationId: getListOfDruzyna
      responses:
        '200':
          description: A list of Druzyna
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Druzyna'

  /api/v1/druzyna/{druzynaId}:
    get:
      tags:
        - druzyna
      summary: Get details of a specific Druzyna
      operationId: getDruzynaById
      parameters:
        - in: path
          name: druzynaId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Druzyna details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Druzyna'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - druzyna
      summary: Delete a specific Druzyna
      operationId: deleteDruzyna
      parameters:
        - in: path
          name: druzynaId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Druzyna deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Druzyna
      operationId: updateDruzyna
      tags:
        - druzyna
      parameters:
        - in: path
          name: druzynaId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Druzyna
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Druzyna"
      responses:
        "200":
          description: Druzyna updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/gromada:
    post:
      tags:
        - gromada
      summary: Create a new Gromada
      operationId: postGromada
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Gromada'
      responses:
        '201':
          description: Gromada created successfully
    get:
      tags:
        - gromada
      summary: Get a list of all Gromady
      operationId: getListOfGromady
      responses:
        '200':
          description: A list of Gromady
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Gromada'

  /api/v1/gromada/{gromadaId}:
    get:
      tags:
        - gromada
      summary: Get details of a specific Gromada
      operationId: getGromadaById
      parameters:
        - in: path
          name: gromadaId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Gromada details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Gromada'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - gromada
      summary: Delete a specific Gromada
      operationId: deleteGromada
      parameters:
        - in: path
          name: gromadaId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Gromada deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Gromada
      operationId: updateGromada
      tags:
        - gromada
      parameters:
        - in: path
          name: gromadaId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Gromada
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Gromada"
      responses:
        "200":
          description: Gromada updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/wedrownicy:
    post:
      tags:
        - wedrownicy
      summary: Create a new Wedrownicy
      operationId: postWedrownicy
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Wedrownicy'
      responses:
        '201':
          description: Wedrownicy created successfully
    get:
      tags:
        - wedrownicy
      summary: Get a list of all Wedrownicy
      operationId: getListOfWedrownicy
      responses:
        '200':
          description: A list of Wedrownicy
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Wedrownicy'

  /api/v1/wedrownicy/{wedrownicyId}:
    get:
      tags:
        - wedrownicy
      summary: Get details of a specific Wedrownicy
      operationId: getWedrownicyById
      parameters:
        - in: path
          name: wedrownicyId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Wedrownicy details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Wedrownicy'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - wedrownicy
      summary: Delete a specific Wedrownicy
      operationId: deleteWedrownicy
      parameters:
        - in: path
          name: wedrownicyId
          schema:
            type: integer
          required: true
      responses:
        '204':
          description: Wedrownicy deleted successfully
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      summary: Update a Wedrownicy
      operationId: updateWedrownicy
      tags:
        - wedrownicy
      parameters:
        - in: path
          name: wedrownicyId
          schema:
            type: integer
          required: true
      requestBody:
        description: Updated Wedrownicy
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Wedrownicy"
      responses:
        "200":
          description: Wedrownicy updated successfully
        "404":
          $ref: "#/components/responses/NotFound"

  /api/v1/druzyna/rejestracje:
    get:
      tags:
        - rejestracje
      summary: Get a list of all Druzyny Rejestracje
      operationId: getListOfDruzynaRejestracje
      responses:
        '200':
          description: A list of Druzyny Rejestracje
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Registration'

  /api/v1/druzyna/rejestracje/{druzynaId}:
    post:
      summary: Register yearly details for a specific troop
      description: Allows a troop leader to register or update the annual details for their troop (Druzyna).
      parameters:
        - name: druzynaId
          in: path
          required: true
          schema:
            type: integer
          description: The unique ID of the troop (Druzyna)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Registration'
      responses:
        '201':
          description: Druzyna Rejestracja created successfully
        '404':
          $ref: '#/components/responses/NotFound'
    get:
      tags:
        - rejestracje
      summary: Get details of a specific Druzyna Rejestracja
      operationId: getDruzynaRejestracjaById
      parameters:
        - in: path
          name: druzynaId
          schema:
            type: integer
          required: true
      responses:
        '200':
          description: Druzyna Rejestracja details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Registration'
        '404':
          $ref: '#/components/responses/NotFound'

  /api/v1/person:
    post:
      tags:
        - person
      summary: Create a new Person
      operationId: postPerson
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Person'
      responses:
        '201':
          description: Person created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Person'
    get:
      tags:
        - person
      summary: Get a list of all people
      operationId: getListOfPeople
      responses:
        '200':
          description: A list of people
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Person'

  /api/v1/role-assignment:
    post:
      summary: Assign a role to a person
      operationId: postRoleAssignment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleAssignment'
      responses:
        '201':
          description: Role assigned successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoleAssignment'


components:
  schemas:
    Registration:
      type: object
      properties:
        status:
          type: boolean
          default: false
        stats:
          $ref: '#/components/schemas/Stats'
        dataRej:
          type: string
          format: date-time

    PersonalDetails:
      type: object
      properties:
        hufiec:
          type: string
          maxLength: 30
        stopien:
          type: string
          maxLength: 30
        imie:
          type: string
          maxLength: 30
        nazwisko:
          type: string
          maxLength: 30

    TroopInfo:
      type: object
      properties:
        nazwaDruzyny:
          type: string
          maxLength: 50
        patron:
          type: string
          maxLength: 30
        miastoDruzyny:
          type: string
          maxLength: 30
        miastoDruzynowego:
          type: string
          maxLength: 30
        iloscZastepow:
          type: integer
          format: int32
        czlonkowRady:
          type: integer
          format: int32

    Address:
      type: object
      properties:
        addressLine1:
          type: string
          maxLength: 30
        addressLine2:
          type: string
          maxLength: 30
        city:
          type: string
          maxLength: 30
        postcode:
          type: string
          maxLength: 10

    ContactInfo:
      type: object
      properties:
        telDom:
          type: string
          maxLength: 15
        telPraca:
          type: string
          maxLength: 15
        komurka:
          type: string
          maxLength: 15

    Stats:
      type: object
      properties:
        totalParticipants:
          type: integer
        totalInstruktorzy:
          type: integer
        totalZbiorki:
          type: integer
        totalWycieczki:
          type: integer

    CourseInfo:
      type: object
      properties:
        iloscKursow:
          type: integer
          format: int32
        iloscNaKursow:
          type: integer
          format: int32
        iloscBiwak:
          type: integer
          format: int32
        iloscNaBiwak:
          type: integer
          format: int32
        iloscZlaz:
          type: integer
          format: int32
        iloscNaZlaz:
          type: integer
          format: int32
        # Add additional fields here as needed...

    Assessment:
      type: object
      properties:
        ocenaProgramu:
          type: integer
          format: int32
        ocenaAdmin:
          type: integer
          format: int32
        ocenaSysZas:
          type: integer
          format: int32
        ocenaKsiegi:
          type: integer
          format: int32
        ocenaSpraw:
          type: integer
          format: int32
        ocenaZbiorki:
          type: integer
          format: int32
        ocenaHarce:
          type: integer
          format: int32
        ocenaOboz:
          type: integer
          format: int32
        ocenaWspol:
          type: integer
          format: int32
        ocenaWykonane:
          type: integer
          format: int32

    Activity:
      type: object
      properties:
        type:
          type: string
        count:
          type: integer
          format: int32


    Choragiew:
      type: object
      properties:
        name:
          type: string
        areaOfOperation:
          type: string
        personInCharge:
          type: string
    #        country:
    #          type: string
    #          enum: [ UK, Kanada, USA ]
    #        komendant_choragwi:
    #          type: integer
    #        komenda_count:
    #          type: integer
    #        created_at:
    #          type: string
    #          format: date

    Hufiec:
      type: object
      properties:
        name:
          type: string
        areaOfOperation:
          type: string
        personInCharge:
          type: string
    #        name:
    #          type: string
    #        choragiewId:
    #          type: integer
    #        in_charge:
    #          type: integer
    #        komenda_count:
    #          type: integer
    #        created_at:
    #          type: string
    #          format: date

    Szczep:
      type: object
      properties:
        name:
          type: string
        areaOfOperation:
          type: string
        personInCharge:
          type: string
    #        name:
    #          type: string
    #        hufiecId:
    #          type: integer
    #        in_charge:
    #          type: integer
    #        druzyna_count:
    #          type: integer
    #        gromada_count:
    #          type: integer
    #        druzyna_wedrownikow_count:
    #          type: integer
    #        created_at:
    #          type: string
    #          format: date

    Druzyna:
      type: object
      properties:
        szczepId:
          type: integer
          description: Identifier of the Szczep this Druzyna belongs to.
        name:
          type: string
        addressOfOperation:
          type: object
          $ref: '#/components/schemas/Address'
        druzynowy:
          type: object
          $ref: '#/components/schemas/Person'
        type:
          type: string
          enum: [ harcerze, wedrownicy, zuchy ]
        komenda:
          type: array
          items:
            $ref: '#/components/schemas/Person'
        currentStats:
          type: object
          $ref: '#/components/schemas/Stats'
        yearEstablished:
          type: string


    Wedrownicy:
      type: object
      properties:
        name:
          type: string
        areaOfOperation:
          type: string
        personInCharge:
          type: string

    Gromada:
      type: object
      properties:
        name:
          type: string
        areaOfOperation:
          type: string
        personInCharge:
          type: string

    Person:
      type: object
      properties:
        first_name:
          type: string
        last_name:
          type: string
        email:
          type: string
          format: email
        mobile:
          type: string
        date_of_birth:
          type: string
          format: date
        address:
          type: object
          $ref: '#/components/schemas/Address'
        stopien:
          type: string

    RoleAssignment:
      type: object
      properties:
        role_assignmentId:
          type: integer
        personId:
          type: integer
        unitId:
          type: integer
        unit_type:
          type: string
          enum: [ choragiew, hufiec, szczep, druzyna ]
        funkcja:
          type: string
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date

    ErrorResponse:
      required:
        - message
        - errors
      type: object
      properties:
        message:
          type: string
          example: Bad request
        errors:
          type: array
          description: Validation/ error messages
          items:
            type: string
            example: Szczep id not found
  responses:
    NotFound:
      description: Not found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    BadRequest:
      description: Bad request
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Conflict:
      description: Conflict
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
